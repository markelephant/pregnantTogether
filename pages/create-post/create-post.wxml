<view class="container">
  <!-- 标题输入 -->
  <view class="input-group">
    <input 
      class="title-input" 
      placeholder="添加标题（可选）" 
      value="{{title}}" 
      bindinput="onTitleInput" 
      confirm-type="next"
      maxlength="50"
    />
  </view>

  <!-- 内容输入 -->
  <view class="input-group content-group">
    <textarea 
      class="content-input" 
      placeholder="分享你的孕期故事..." 
      value="{{content}}" 
      bindinput="onContentInput" 
      maxlength="1000"
      show-confirm-bar="{{false}}"
      cursor-spacing="20"
      adjust-position="{{true}}"
      fixed="{{false}}"
      disable-default-padding="{{true}}"
    />
    <text class="word-count">{{contentLen}}/1000</text>
  </view>

  <!-- 图片选择 -->
  <view class="image-section">
    <view class="section-title">添加图片</view>
    <view class="image-list">
      <view wx:for="{{images}}" wx:key="*this" class="image-item">
        <image class="preview-image" src="{{item}}" mode="aspectFill"></image>
        <view class="delete-btn" bindtap="deleteImage" data-index="{{index}}">×</view>
      </view>
      <view class="add-image" bindtap="chooseImage" wx:if="{{images.length < 9}}">
        <text class="add-icon">+</text>
      </view>
    </view>
  </view>

  <!-- 标签 -->
  <view class="tag-section">
    <view class="section-title">添加标签</view>
    <view class="tag-list">
      <view wx:for="{{tags}}" wx:key="*this" class="tag-item">
        <text>#{{item}}</text>
        <text class="delete-tag" bindtap="deleteTag" data-index="{{index}}">×</text>
      </view>
      <view class="tag-input-box" wx:if="{{tags.length < 5}}">
        <input 
          class="tag-input" 
          placeholder="输入标签" 
          value="{{tagInput}}" 
          bindinput="onTagInput" 
          bindconfirm="addTag"
          confirm-type="done"
          maxlength="10"
        />
        <text class="add-tag-btn" bindtap="addTag">+</text>
      </view>
    </view>
  </view>

  <!-- 底部按钮 -->
  <view class="footer">
    <button class="cancel-btn" bindtap="cancel">取消</button>
    <button class="submit-btn" bindtap="submitPost" disabled="{{loading}}">发布</button>
  </view>
</view>
